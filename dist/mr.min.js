window.$MR=function(a){"use strict";var b,c,d,e,f,g;if("undefined"==typeof a)throw new Error("mr.js depends on jQuery.");return b={},c={},d=function(){var b,c,e,f,g,h=window.$MR.Const;if(b=a("script").filter('[src$="'+h.scriptName+'"]').eq(0),!b[0])throw new Error("mr.js was not found. you need to change Const.scriptName if you changed the file name.");return c=h.baseDir||b.attr("src").replace(/(.+\/).*$/,"$1"),e=h.moduleDir,f=h.modulePrefix,/\/$/.test(c)||(c+="/"),/\/$/.test(e)||(e+="/"),/\.$/.test(f)||(f+="."),g=c+e+f,d=function(){return g},g},e=function(a,b){c[a]=b},f=function(e){var g,h,i,j=window.$MR;if(!b[e])if(c[e])g=c[e](a,j),"object"==typeof g?b[e]={}:(g=[g],b[e]=[]),a.each(g,function(a,c){b[e][a]=c}),b[e].length&&(b[e]=b[e][0]);else{if(!window[e])return h=a.Deferred(),i=d()+e.toLowerCase()+".js",a.getScript(i).done(function(){h.resolve(f(e))}).fail(function(){throw new Error(i+" is not found.")}),h.promise();b[e]=window[e]}if(!b[e])throw new Error(e+" module is not defined.");return b[e]},g=function(b,c,d){var e=[];if(!b||!c)throw new Error('Failed applyModule for "'+b+'". el or Module was not found.');return a(b).each(function(){e.push(new c(a.extend({el:this,instances:e},d)))}),e},{require:f,define:e,applyModule:g}}(window.jQuery),window.$MR.Const=function(){"use strict";return{scriptName:"mr.min.js",moduleDir:"module/",modulePrefix:"module."}}(jQuery,window.$MR),window.$MR.Utils=function(a){"use strict";var b,c,d,e,f,g,h,i,j,k,l,m,n,o;return b=0,c=function(){var b=window.navigator.userAgent.toLowerCase(),c="other";return/android/.test(b)?(c="android",/chrome/.test(b)?a("html").addClass("chrome"):(a("html").addClass("android"),/android 2/.test(b)&&(c="android2",a("html").addClass("android2")))):/ipod|iphone|ipad/.test(b)?(c="ios",a("html").addClass("ios")):/msie/.test(b)&&(c="ie",a("html").addClass("ie")),c},d=function(){var a,b=document.createElement("fakeelement"),c={webkitTransition:"webkitTransitionEnd",transition:"transitionend",oTransition:"oTransitionEnd"};return Object.keys&&Object.keys(c).forEach(function(d){return void 0===b.style[d]||a?void 0:(a=c[d],!1)}),a},e=function(){var a,b=document.createElement("fakeelement"),c={webkitAnimation:"webkitAnimationEnd",animation:"animationend",oAnimation:"oAnimationEnd"};return Object.keys&&Object.keys(c).forEach(function(d){return void 0===b.style[d]||a?void 0:(a=c[d],!1)}),a},f=function(a,b){var c=null!==this.getCookie(a,b)?!0:!1;return c},g=function(a,b){var c,d,e,f=null,g=b||{},h=a;return g.delimiter?(h=a.split(g.delimiter)[0],e=a.split(g.delimiter)[1],c=h+"\\=(?:.*?)"+e+"\\=(.*?)(?:\\"+g.delimiter+"|\\;|$)"):c=h+"\\=(.*?)(?:\\;|$)",console.log(c),d=decodeURIComponent(document.cookie).match(new RegExp(c)),d&&d.length>1&&(f=d[1]),f},h=function(a,b,c){var d,e,f,g=c||{},h=a,i="",j="path=/;",k="";return g.delimiter&&(h=a.split(g.delimiter)[0],f=a.split(g.delimiter)[1]),d=new RegExp(h+"\\=(.*?)(?:\\;|$)"),e=decodeURIComponent(document.cookie).match(d),g.path&&(j="path="+g.path+";"),g.expire&&(k="expires="+new Date(g.expire).toGMTString()+";"),g.delimiter?(e&&e.length>1&&(i=e[1].replace(new RegExp(f+"\\=(.*?)(?:\\"+g.delimiter+"|\\;|$)"),"")),b&&(i&&(i+=g.delimiter),i+=f+"="+b)):(h=a,i=b),document.cookie=h+"="+encodeURIComponent(i)+";"+j+k,encodeURIComponent(document.cookie)},i=function(b,c){var d=c||{};return d.delimiter||(d=a.extend(!0,{},{expire:"1970/1/1"})),this.setCookie(b,"",d)},j=function(a){var b={error:!1,data:null};if(window.localStorage)try{b.data=window.localStorage.getItem(a)}catch(c){return b.error=!0,b}return b},k=function(a,b){var c={error:!1};if(window.localStorage)try{window.localStorage.setItem(a,b)}catch(d){c.error=!0}return c},l=function(a){var c=++b+"";return a?a+c:c},m=function(b,c){var d,e,f,g=function(){};return"object"==typeof c?(d=c._create||function(){},e=c):(d=c,e=c.prototype),f=function(){var a=Array.prototype.slice.call(arguments);b.apply(this,a),d.apply(this,a)},g.prototype=b.prototype,f.prototype=new g,a.extend(f.prototype,e),f},n=function(b,c){var d,e;return d={nomatch:/(.)^/,evaluate:/<\%(.+?)\%>/g,interpolate:/<\%\=(.+?)\%>/g,escaper:/\\|'|\r|\n|\t|\u2028|\u2029/g},e={render:function(){var e,f,g;return f=0,g=[],e=new RegExp([(d.interpolate||d.nomatch).source,(d.evaluate||d.nomatch).source].join("|")+"|$","g"),b.replace(e,function(a,c,e,h){return g.push("__t.push('"+b.slice(f,h).replace(d.escaper,"")+"');"),c&&g.push("__t.push("+c+");"),e&&g.push(e),f=h+a.length,a}),0===f&&g.push("__t.push('"+b+"');"),g="var __t=[];with(__d||{}){"+g.join("\n")+"};return __t.join('');",new Function("$","__d",g).apply(null,[a,c])}},e.render()},o=function(b,c){var d={indexes:[],values:[]};return a.each(b,function(a,b){var e,f=!0;for(e in c)if(b[e]!==c[e]){f=!1;break}f&&(d.indexes.push(a),d.values.push(b))}),d.indexes.length<=0&&(d=null),d},{ua:c(),transitionend:d(),animationend:e(),hasCookie:f,getCookie:g,setCookie:h,deleteCookie:i,getStorageItem:j,setStorageItem:k,uniqueId:l,extend:m,template:n,where:o}}(jQuery,window.$MR),window.$MR.Bone=function(a,b){"use strict";var c;return c=function(){this.__moduleId=b.Utils.uniqueId("m"),this.__listeningTbl={}},c.prototype={_bind:function(b){return a.proxy(this[b],this)},on:function(a,b,c){var d=this.__listeningTbl;d[a]=d[a]||[],d[a].push({target:c||this,callback:b})},off:function(a,c,d){var e,f,g=this.__listeningTbl[a],h={target:d||this};for(c&&(h.callback=c),f=0;f<g.length;f++)e=b.Utils.where([g[f]],h),e&&(g.splice(f,1),f--)},trigger:function(b){var c=this.__listeningTbl[b]||[];a.each(c,function(a,b){b.callback.apply(b.target)})},listenTo:function(a,b,c){a.on(b,c,this)},stopListening:function(a,b,c){a.off(b,c,this)}},c}(jQuery,window.$MR),window.$MR.Event={},window.$MR.Feature=function(a){"use strict";var b,c,d;return b=function(){return"undefined"!=typeof document.ontouchstart},c=function(){return"undefined"!=typeof window.FormData},d=function(){return a.ajaxSettings.xhr().upload?!0:!1},{Touch:b(),FormData:c(),XHRUpload:d()}}(jQuery,window.$MR),window.$MR.messanger=new window.$MR.Bone,window.$MR.Model=function(a,b){"use strict";var c;return c=b.Utils.extend(b.Bone,{defaults:{},_create:function(b){this.settings=a.extend({},this.defaults,b),this._init()},_init:function(){}})}(jQuery,window.$MR),window.$MR.View=function(a,b){"use strict";var c;return c=b.Utils.extend(b.Bone,{defaults:{},events:{},_create:function(b){this.el=b.el,this.$el=a(this.el),this.settings=a.extend({},this.defaults,b,this.$el.data("options")),this._init()},_init:function(){},_mkCache:function(){return this.settings.cache={$:{}},this.settings.cache},$:function(a,b){var c,d=this.settings,e=d.cache||this._mkCache(),f=d.selector&&d.selector.prefix||"",g=a.replace(/\$/g,f);return(b||"undefined"==typeof e.$[a])&&(c=this.$el.find(g),e.$[a]=c[0]?c:null),e.$[a]},_delegateEvent:function(b,c,d){var e=this,f=c||e.$el,g=b||e.events,h=/^#|^\.|^\[|^button|^label|^input|^select|^option|^textarea|^img|^ul|^li|^span|^div/;a.each(g,function(a,b){var c=a.split(" "),g=c.length,i=e._bind(b),j=h.test(c[g-1].toLowerCase());j?(c=[c.slice(0,g-1).join(" "),c[g-1]],c.push(i),f[d].apply(f,c)):f[d](a,i)})},_delegate:function(a,b){this._delegateEvent(a,b,"on")},_undelegate:function(a,b){this._delegateEvent(a,b,"off")}})}(jQuery,window.$MR);